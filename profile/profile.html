<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bardle | Perfil</title>
  <link rel="icon" type="image/x-icon" href="/musicas/assets/bardle.png" />
    <link rel="icon" type="image/png" href="/musicas/assets/bardle.ico" />

  <link rel="stylesheet" href="profile.css" />

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    crossorigin="anonymous"
  />
</head>

<body>
  <svg style="display: none">
    <filter id="lg-dist" x="0%" y="0%" width="100%" height="100%">
      <feTurbulence type="fractalNoise" baseFrequency="0.008 0.008" numOctaves="2" seed="92" result="noise" />
      <feGaussianBlur in="noise" stdDeviation="2" result="blurred" />
      <feDisplacementMap in="SourceGraphic" in2="blurred" scale="70" xChannelSelector="R" yChannelSelector="G" />
    </filter>
  </svg>

  <header class="top-bar glass-container">
    <div class="glass-filter"></div>
    <div class="glass-overlay"></div>
    <div class="glass-specular"></div>

    <div class="glass-content glass-content--header">
      <div class="logo-area">
        <img src="assets/bardle.png" alt="Logo Bardle" class="logo" />
        <h1 class="app-name">BARDLE</h1>
      </div>

      <button class="settings-btn" title="Configurações">
        <i class="fa-solid fa-gear"></i>
      </button>
    </div>
  </header>

  <main class="profile-container">
    
    <div class="glass-card glass-container">
      <div class="glass-filter"></div>
      <div class="glass-overlay"></div>
      <div class="glass-specular"></div>

      <div class="glass-content">
        <img id="user-photo" src="https://m.media-amazon.com/images/I/41XnjwqvnYL._UXNaN_FMjpg_QL85_.jpg" alt="Foto de Perfil" class="profile-pic" />
        
        <h1 id="user-name">Carregando...</h1>
        <p id="user-email">email@exemplo.com</p>

        <div class="profile-actions">
          <label for="new-name">Nome:</label>
          <input type="text" id="new-name" placeholder="Novo nome" />

          <label for="new-photo">Foto (URL):</label>
          <input type="text" id="new-photo" placeholder="Link da nova foto" />

          <label for="new-password">Nova senha:</label>
          <input type="password" id="new-password" placeholder="Mínimo 6 caracteres" />

          <button id="save-changes">Salvar alterações</button>
        </div>
      </div>
    </div>
    
    <div class="logout-section">
      <button id="logout" class="logout-btn" title="Sair da conta">
        <i class="fa-solid fa-right-from-bracket"></i>
      </button>
    </div>
  </main>

  <div id="logout-modal" class="modal hidden">
    <div class="modal-content glass-container">
      <div class="glass-filter"></div>
      <div class="glass-overlay"></div>
      <div class="glass-specular"></div>
      
      <div class="glass-content">
        <h2>Deseja sair da conta?</h2>
        <div class="modal-buttons">
          <button id="confirm-logout" class="confirm">Sim</button>
          <button id="cancel-logout" class="cancel">Cancelar</button>
        </div>
      </div>
    </div>
  </div>

  <nav class="bottom-nav glass-container">
    <div class="glass-filter"></div>
    <div class="glass-overlay"></div>
    <div class="glass-specular"></div>

    <div class="glass-content glass-content--nav">
      <button class="nav-btn" id="home-btn">
        <i class="fa-solid fa-house"></i>
        <span>Início</span>
      </button>

      <button class="nav-btn" id="music-btn">
        <i class="fa-solid fa-music"></i>
        <span>Músicas</span>
      </button>

      <button class="nav-btn active" id="profile-btn">
        <img id="profile-icon" src="https://m.media-amazon.com/images/I/41XnjwqvnYL._UXNaN_FMjpg_QL85_.jpg" alt="Perfil" />
        <span>Perfil</span>
      </button>
    </div>
  </nav>

  <div id="toast-container"></div>

  <script type="module" src="profile.js"></script>

  <script>
    // ===== Navegação Top-Bar / Bottom-Nav (MANTIDO) =====
    // manipula a navegação entre páginas do app
    const logoArea = document.querySelector(".logo-area");
    const settingsBtn = document.querySelector(".settings-btn");
    const homeBtn = document.getElementById("home-btn");
    const musicBtn = document.getElementById("music-btn");
    const profileBtn = document.getElementById("profile-btn");

    // redireciona ao clicar na logo
    logoArea.addEventListener("click", () => window.location.href = "../home/home.html");
    // redireciona para a página de configurações
    settingsBtn.addEventListener("click", () => window.location.href = "../configuracoes/config.html");
    // redireciona para a página inicial
    homeBtn.addEventListener("click", () => window.location.href = "../home/home.html");
    // redireciona para a página de músicas
    musicBtn.addEventListener("click", () => window.location.href = "../musicas/musicas.html");
    // recarrega a página de perfil
    profileBtn.addEventListener("click", () => window.location.href = "../profile/profile.html");
  </script>
</body>
</html>